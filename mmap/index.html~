<!doctype html>
<html>

  <head>
<meta charset="utf-8">
<link rel="stylesheet" href="style.css"/>
<title>Mmap</title>
<script src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script>
	function initialize() {
	//myLat = 0;
	//myLng = 0;
	//console.log("1. In getMyLocation()");
	if (navigator.geolocation) { // the navigator.geolocation object is supported on your browser
		navigator.geolocation.getCurrentPosition(function(position) {
		console.log("2. Finally got your location!");
		myLat = position.coords.latitude;
		x=myLat;
		myLng = position.coords.longitude;
		//console.log("3. Leaving the function(position)... "+ myLat + " " + myLng);
					});
				}
		else {

		console.log("Geolocation is not supported by your web browser.  What a shame!");

				}			

			//request = new XMLHttpRequest();
		//request.open("POST", "https://secret-about-box.herokuapp.com/sendLocation", true);
		//request.onreadystatechange = myCallbackFunction;
		//request.send();
		//function myCallbackFunction() {
		//	if (request.readyState == 4 && request.status == 200) {
		//		data = JSON.parse(request.responseText);

		//	}
		//}

				var landmark = new google.maps.LatLng(x, myLng);
				// Set up map
				var myOptions = {
					zoom: 15, // The larger the zoom number, the bigger the zoom
					center: landmark,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				};// Create the map in the "map_canvas" <div>
				var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
				// Create a marker				
				var mark = new google.maps.Marker({
					position: landmark,
					title: "TravisIsdale"
				});
				mark.setMap(map);

				// This is a global info window...
				var infowindow = new google.maps.InfoWindow();
				// Open info window on click of marker
				google.maps.event.addListener(mark, 'click', function() {
					infowindow.setContent(mark.title);
					infowindow.open(map, mark);

				});

					
			
				}

	


	
</script>


  </head>
	<body onload="initialize()">
	<div id="map_canvas" style="width:100%; height:100%"></div>

	</body>


</html>
